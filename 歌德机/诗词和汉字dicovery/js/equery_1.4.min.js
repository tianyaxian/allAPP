/**
    @ Name : Blot Javascript Library
    @ Author : Eric Wen
    @ Date : 2016-02-26
    @ Email :eric8677##gmail.com
    @ Version : 1.4
 **/
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!="function"){window.onload=func}else{window.onload=function(){oldonload();func()}}};

/* Tab切换 */
function EW_tab(option){this.oTab_btn=this.getDom(option.tabBtn);this.oTab_clist=this.getDom(option.tabCon);if(!this.oTab_btn||!this.oTab_clist)return;this.sCur=option.cur;this.type=option.type||'click';this.nLen=this.oTab_btn.length;this.int()}EW_tab.prototype={getId:function(id){return document.getElementById(id)},getByClassName:function(className,parent){var elem=[],node=parent!=undefined&&parent.nodeType==1?parent.getElementsByTagName('*'):document.getElementsByTagName('*'),p=new RegExp("(^|\\s)"+className+"(\\s|$)");for(var n=0,i=node.length;n<i;n++){if(p.test(node[n].className)){elem.push(node[n])}}return elem},getDom:function(s){var nodeName=s.split(' '),p=this.getId(nodeName[0].slice(1)),c=this.getByClassName(nodeName[1].slice(1),p);if(!p||c.length==0)return null;return c},change:function(){var cur=new RegExp(this.sCur,'g');for(var n=0;n<this.nLen;n++){this.oTab_clist[n].style.display='none';this.oTab_btn[n].className=this.oTab_btn[n].className.replace(cur,'')}},int:function(){var that=this;this.oTab_btn[0].className+=' '+this.sCur;this.oTab_clist[0].style.display='block';for(var n=0;n<this.nLen;n++){this.oTab_btn[n].index=n;this.oTab_btn[n]['on'+this.type]=function(){that.change();that.oTab_btn[this.index].className+=' '+that.sCur;that.oTab_clist[this.index].style.display='block'}}}};

/* Slide幻灯片 */
function getStyle(obj,name){if(obj.currentStyle){return obj.currentStyle[name]}else{return getComputedStyle(obj,false)[name]}};function getByClass(oParent,nClass){var eLe=oParent.getElementsByTagName('*');var aRrent=[];for(var i=0;i<eLe.length;i++){if(eLe[i].className==nClass){aRrent.push(eLe[i])}};return aRrent};function startMove(obj,att,add){clearInterval(obj.timer);obj.timer=setInterval(function(){var cutt=0;if(att=='opacity'){cutt=Math.round(parseFloat(getStyle(obj,att)))}else{cutt=Math.round(parseInt(getStyle(obj,att)))};var speed=(add-cutt)/4;speed=speed>0?Math.ceil(speed):Math.floor(speed);if(cutt==add){clearInterval(obj.timer)}else{if(att=='opacity'){obj.style.opacity=(cutt+speed)/100;obj.style.filter='alpha(opacity:'+(cutt+speed)+')'}else{obj.style[att]=cutt+speed+'px'}}},30)};function slider(){var oDiv=document.getElementById('playBox');var oPre=getByClass(oDiv,'pre')[0];var oNext=getByClass(oDiv,'next')[0];var oUlBig=getByClass(oDiv,'oUlplay')[0];var aBigLi=oUlBig.getElementsByTagName('li');var oDivSmall=getByClass(oDiv,'smalltitle')[0];var aLiSmall=oDivSmall.getElementsByTagName('li');function tab(){for(var i=0;i<aLiSmall.length;i++){aLiSmall[i].className=''}aLiSmall[now].className='thistitle';startMove(oUlBig,'left',-(now*aBigLi[0].offsetWidth))};var now=0;for(var i=0;i<aLiSmall.length;i++){aLiSmall[i].index=i;aLiSmall[i].onclick=function(){now=this.index;tab()}};oPre.onclick=function(){now--;if(now==-1){now=aBigLi.length-1}tab()};oNext.onclick=function(){now++;if(now==aBigLi.length){now=0}tab()};var timer=setInterval(oNext.onclick,5000);oDiv.onmouseover=function(){clearInterval(timer)};oDiv.onmouseout=function(){timer=setInterval(oNext.onclick,5000)};var o=document.getElementById("playBox");var slideHeight=o.offsetHeight;var slideWidth=o.offsetWidth;var emphasisText=document.querySelectorAll("ul.oUlplay>li");for(var i=0,j=emphasisText.length;i<j;i++){emphasisText[i].style.width=slideWidth+"px"}};

/* Title闪动提示 */
var flashTitlePlayer={start:function(msg){this.title=document.title;if(!this.action){try{this.element=document.getElementsByTagName('title')[0];this.element.innerHTML=this.title;this.action=function(ttl){this.element.innerHTML=ttl}}catch(e){this.action=function(ttl){document.title=ttl};delete this.element}this.toggleTitle=function(){this.action('【'+this.messages[this.index=this.index==0?1:0]+'】 欢迎访问')}}this.messages=[msg];var n=msg.length;var s='';if(this.element){var num=msg.match(/\w/g);if(num!=null){var n2=num.length;n-=n2;while(n2>0){s+="&nbsp;";n2--}}}while(n>0){s+='　';n--};this.messages.push(s);this.index=0;this.timer=setInterval(function(){flashTitlePlayer.toggleTitle()},1000);document.querySelector("button[title='开始闪动']").disabled=true},stop:function(){if(this.timer){clearInterval(this.timer);this.action(this.title);delete this.timer;delete this.messages}document.querySelector("button[title='开始闪动']").disabled=false}};

/* GoTop返回顶部 */
function toTop(id,show){var oTop=document.getElementById(id);var bShow=show;if(!bShow){oTop.style.display='none';setTimeout(btnShow,50)}oTop.onclick=scrollToTop;function scrollToTop(){var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;var iSpeed=Math.floor(-scrollTop/2);if(scrollTop<=0){if(!bShow){oTop.style.display='none'}return}document.documentElement.scrollTop=document.body.scrollTop=scrollTop+iSpeed;setTimeout(arguments.callee,50)}function btnShow(){var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;if(scrollTop<=0){oTop.style.display='none'}else{oTop.style.display='block'}setTimeout(arguments.callee,50)}};

/* DivWindow弹窗 */
function pupopen(){document.getElementById("bg").style.display="block";document.getElementById("popbox").style.display="block"}function pupclose(){document.getElementById("bg").style.display="none";document.getElementById("popbox").style.display="none"};

/* Unfold展开层 */
function Scroll(obj,h,s){var h=h||200;var s=s||1.2;var obj=typeof(obj)=="string"?document.getElementById(obj):obj;if(obj==undefined){return false};var status=obj.getAttribute("status")==null;var oh=parseInt(obj.offsetHeight);obj.style.height=oh;obj.style.display="block";obj.style.overflow="hidden";if(obj.getAttribute("oldHeight")==null){obj.setAttribute("oldHeight",oh)}else{var oldH=Math.ceil(obj.getAttribute("oldHeight"))};var reSet=function(){if(status){if(oh<h){oh=Math.ceil(h-(h-oh)/s);obj.style.height=oh+"px"}else{obj.setAttribute("status",false);window.clearInterval(IntervalId)}}else{obj.style.height=oldH+"px";obj.removeAttribute("status");window.clearInterval(IntervalId)}};var IntervalId=window.setInterval(reSet,10);return status};
